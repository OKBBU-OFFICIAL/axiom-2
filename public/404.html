<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Redirecting...</title>
    <script type="text/javascript">
      // A fallback for very old browsers
      (function() {
        //no iframes (otherwise the website developer could get confused?)
        if (window.top !== window.self) {
          console.log("NOTE: Use of iframes is not supported. Use hash routing inside an iframe. Example: https://example.com/#/path/to/page");
          return;
        }

        const location = window.location;
        const isGitHubPages = location.hostname.endsWith('github.io');
        
        // Get the parts of the URL
        const path = location.pathname;
        const search = location.search;
        const hash = location.hash;

        let newUrl;

        if (isGitHubPages) {
          // Logic for GitHub Pages URLs (e.g., user.github.io/repo/route)
          // The repo name is the first segment of the path.
          const repoName = path.substring(1, path.indexOf('/', 1));
          // The route is everything *after* the repo name.
          const route = path.substring(path.indexOf('/', 1));
          
          newUrl = `/${repoName}/#${route}${search}${hash}`;
        } else {
          // Logic for Custom Domains (e.g., mydomain.com/route)
          // The entire path is the route.
          const route = path;

          newUrl = `/#${route}${search}${hash}`;
        }

        // Redirect the user to the new hash-based URL.
        // Using replace() prevents this redirect from being added to the browser history.
        location.replace(newUrl);
      })();
    </script>
  </head>
  <body>
    <!-- This body is not typically seen by the user -->
     <noscript>
       <h1>JavaScript is required</h1>
       <p>This site requires JavaScript to function properly. Please enable JavaScript in your browser settings and try again.</p>
      </noscript>
  </body>
</html>